(function ($) {
    $(document).ready(function () {
        var form  = $('#js-comment-form');
        var error = form.find('.error');

        // Send message
        form.find(".js-btn-send").click(function () {
            // Hide errors
            error.hide();

            // Send message
            $.post(form.attr("action"), form.serialize())
                .done(function (response) {
                    if (response.error) {
                        error.html(response.message).show();
                    }
                    if (response.success) {
                        location.reload();
                    }
                })
                .fail(function () {
                    error.html('').show();
                })
        });

        // Hide errors
        error.hide();
    });

})(jQuery);
(function ($) {
    $(document).ready(function () {

        var $animateIn      = $(".animate-in").addClass("pre-animate"),
            animateInOffset = 100;

        $(window).scroll(function() {
            var bsPosition = $(window).height() + $(window).scrollTop();

            $animateIn.each(function(i, element) {
                if ($(element).offset().top + animateInOffset < bsPosition) {
                    $(element).removeClass('pre-animate');
                }
            });
        });



        // Block not available links
//        $('a.feature-not-available').click(function(event) {
//            alert('Fonctionnalité non disponible: Ceci est une version Bêta du site');
//            event.preventDefault();
//        });

        /* Configure zoom
         $('figure.zoom').each(function() {

         var zoomLink = $(this).find("a:first");

         // Add zoom image
         var zoomImg = $("<img src='/assets/images/zoom.svg' />")
         .css({position: "absolute", top: 50, left: 90})
         .hide();

         // Zoom image animation
         zoomLink
         .append(zoomImg)
         .mouseenter(function() {zoomImg.fadeIn();})
         .mouseleave(function() {zoomImg.fadeOut();});
         });*/

        // Initialize the gallery
        // $('figure.touchTouch a').touchTouch();

        // Init pretty print
        // prettyPrint();
    });

})(jQuery);
(function ($) {
    $(document).ready(function () {
        var dialog = $('#js-contact-dialog');
        var form = dialog.find('form');
        var error = dialog.find('.error');
        var success = dialog.find('.success')

        // Reset contact form
        $('#js-dialog-contact-chk').change(function () {
            if ($(this).is(':checked')) {
                form.find('input, textarea').val('');
                error.hide();
                success.hide();
            }
        });

        // Send message
        dialog.find(".js-btn-send").click(function () {

            // Hide message, errors
            error.hide();
            success.hide();

            // Send message
            $.post("/contact", form.serialize())
                .done(function (response) {
                    if (response.error) {
                        error.html(response.message).show();
                    }
                    if (response.success) {
                        form.hide();
                        success.html(response.message).show();
                    }
                })
                .fail(function () {
                    error.html('').show();
                })
        });
    });
})(jQuery);